## 🐻🐻‍❄️ 쓰곰그리곰
![KakaoTalk_20230206_200306346](https://user-images.githubusercontent.com/114152169/217737080-d7f5f425-31c6-4927-868a-04b0fa951221.png)
#### 소중했던 하루를 자유롭게 그려서 기록할 수 있습니다.
#### 그리는 일기라니... 너무 신기하잖아 ❤️

<br><br/>

## 🐻 주요 기능
![주요기능](https://user-images.githubusercontent.com/114152169/217740301-516fcc10-d748-4769-9423-493857482d58.png)
#### 1. 다이어리 제목과 색상 자유롭게 설정
#### 2. 글과 함께 마음대로 그려서 일기 기록 
#### 3. 사용자 초대로 일기장 공유
#### 4. 북마크 표시로 특정 다이어리와 일기 관리
#### 5. 작성한 해시태그 기준으로 일기 검색

<br><br/>

## 🐻 프로젝트 아키텍쳐
![image](https://user-images.githubusercontent.com/114152169/217743119-f4d6e516-5666-4992-ba1e-46773d2a45c5.png)

<br><br/>

## 🖥️ 기술 스택
### Back-end
<img src="https://camo.githubusercontent.com/eea3c89b5aa320f391bd9ce962c4ef7d92c943a56c376c6cbac82be641585101/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4a6176615363726970742d4637444631453f7374796c653d666f722d7468652d6261646765266c6f676f3d4a617661536372697074266c6f676f436f6c6f723d626c61636b" data-canonical-src="https://img.shields.io/badge/JavaScript-F7DF1E?style=for-the-badge&amp;logo=JavaScript&amp;logoColor=black" style="max-width: 100%;"><img src="https://camo.githubusercontent.com/ab61fce6586c27e04d8ac35d0a77a20b78eb57de63ac2243353f23d3752b1fc3/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4e6f64652e6a732d3333393933333f7374796c653d666f722d7468652d6261646765266c6f676f3d4e6f64652e6a73266c6f676f436f6c6f723d7768697465" data-canonical-src="https://img.shields.io/badge/Node.js-339933?style=for-the-badge&amp;logo=Node.js&amp;logoColor=white" style="max-width: 100%;"><img src="https://camo.githubusercontent.com/93907c63a75a4b788c8f5ab36b7064add824dd890c2de95e8a965c5460dc5268/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f457870726573732d3030303030303f7374796c653d666f722d7468652d6261646765266c6f676f3d45787072657373266c6f676f436f6c6f723d7768697465" data-canonical-src="https://img.shields.io/badge/Express-000000?style=for-the-badge&amp;logo=Express&amp;logoColor=white" style="max-width: 100%;">

<img src="https://camo.githubusercontent.com/64275ceb7fccb7a4328c84c984ae3f9c90c64c0c9a3d525cfe9abe2660d67c4e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d7953514c2d3434373941313f7374796c653d666f722d7468652d6261646765266c6f676f3d4d7953514c266c6f676f436f6c6f723d7768697465" data-canonical-src="https://img.shields.io/badge/MySQL-4479A1?style=for-the-badge&amp;logo=MySQL&amp;logoColor=white" style="max-width: 100%;"><img src="https://camo.githubusercontent.com/6c50eb6f911b1bcb4c0b790fb5e908bf896c525685839fa802c41349dcd1c8bf/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f53657175656c697a652d3532423045373f7374796c653d666f722d7468652d6261646765266c6f676f3d53657175656c697a65266c6f676f436f6c6f723d7768697465" data-canonical-src="https://img.shields.io/badge/Sequelize-52B0E7?style=for-the-badge&amp;logo=Sequelize&amp;logoColor=white" style="max-width: 100%;">


<img src="https://camo.githubusercontent.com/4940b27a13056bfab2cb61da9a8a7b00c4efb9ebbd39d966cbeecc00c1c0059e/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f416d617a6f6e204543322d4646393930303f7374796c653d666f722d7468652d6261646765266c6f676f3d416d617a6f6e20454332266c6f676f436f6c6f723d7768697465" data-canonical-src="https://img.shields.io/badge/Amazon EC2-FF9900?style=for-the-badge&amp;logo=Amazon EC2&amp;logoColor=white" style="max-width: 100%;"><img src="https://camo.githubusercontent.com/f5e36b504a7091d22de49844ec28d7b50723774c367b6133fb25dd73e4876b92/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f416d617a6f6e2053332d3536394133313f7374796c653d666f722d7468652d6261646765266c6f676f3d416d617a6f6e205333266c6f676f436f6c6f723d7768697465" data-canonical-src="https://img.shields.io/badge/Amazon S3-569A31?style=for-the-badge&amp;logo=Amazon S3&amp;logoColor=white" style="max-width: 100%;"><img src="https://camo.githubusercontent.com/cbedc465c8222cc31307f4cfd6415d52ceecb842726cde43a7a5d496aaebe335/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f504d322d3242303337413f7374796c653d666f722d7468652d6261646765266c6f676f3d504d32266c6f676f436f6c6f723d7768697465" data-canonical-src="https://img.shields.io/badge/PM2-2B037A?style=for-the-badge&amp;logo=PM2&amp;logoColor=white" style="max-width: 100%;"><img src="https://camo.githubusercontent.com/750ce59cd9ea710a18b1627dc9d04ffce9ad143e7b9eeb0d9d62454741662264/68747470733a2f2f696d672e736869656c64732e696f2f62616467652f4d554c5445522d4634363531393f7374796c653d666f722d7468652d6261646765266c6f676f3d4d554c544552266c6f676f436f6c6f723d7768697465" data-canonical-src="https://img.shields.io/badge/MULTER-F46519?style=for-the-badge&amp;logo=MULTER&amp;logoColor=white" style="max-width: 100%;">

<br><br/>

## 🐻 ERD
![image](https://user-images.githubusercontent.com/114152169/217747585-49d42fc1-6ad6-4329-9673-d46d70375138.png)

<br><br/>

## 🐻 트러블슈팅
### 1. CORS 오류
#### - FE에서 그림 그리는 기능 구현하는 과정에서, 그림을 수정한 후 서버에 데이터를 보내 교차 출처 이미지 보안 문제 발생
#### - cors 코드 origin을 ' * ' 로 변경
### 2. NVM
#### - Ubuntu 20.04 LTS 기본 패키지 저장소를 사용하여 이전 버전의 Node와 npm 설치되어 최신 라이브러리 사용 불가 
#### - Node.js 홈페이지에서 최신 LTS 버전 확인, Node.js 버전 관리 도구인 NVM 사용
### 3. socket.io
#### - 사용자들 간의 대화가 없다가 첫 번째 챗(chat)이 전송되면 대화가 시작되는 해당 날짜가 브라우저에 두 번 찍히는 '동시성' 이슈 발생
#### - 해당 날짜에 나눈 대화가 있는지 확인하고, 없다면 해당 날짜가 채팅창에 한번만 출력될 수 있도록 시퀄라이즈(sequelize)의 findOrCreate 메소드를 사용하여 동시성 제어 해결
### 4. https 
#### - FE에서 vercel로 서버 배포하여, 백엔드 서버에 api요청시 무조건 https로 리다이렉트되는 상황 발생
#### - https로 서버 배포 위해서는 certbot을 이용한 인증서 발급 필요, 그러나 도메인 없었음
#### - 가비아에서 도메인 구입하여 인증서 발급, node_env가 production일 때에만 https로 배포되도록 코드 작성

<br><br/>

## 🐻🐻‍❄️ 3조 팀원들
#### BE 이민용(L) https://github.com/ludin-lee
#### BE 김진솔    https://github.com/Jinsol-Dev
#### FE 최지현(VL) https://github.com/jhchoi1182
#### FE 우주호    https://github.com/Cupcakes33
#### FE 박혜민    https://github.com/hyemin0303
#### DE 조윤영
